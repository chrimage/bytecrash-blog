{{ $avatar_img := .Site.Params.author.avatar }}
{{ $avatar_img_alt := .Site.Params.author.name }}
{{ $image := resources.Get $avatar_img }}
<div class="author">
    {{ with $image }}
    {{ if eq .MediaType.SubType "svg" }}
    <svg width="25em" height="25em" xmlns="http://www.w3.org/2000/svg">
        <image width="25em" height="25em" href="{{ $image.RelPermalink }}" />
    </svg>
    {{ else }}
    {{- if hugo.IsExtended }}
        {{ $image1x := $image.Fill "70x70 center webp" }}
        {{ $image2x := $image.Fill "140x140 center webp" }}
        {{ $image3x := $image.Fill "210x210 center webp" }}
        <img
            class="author-avatar"
            src="{{ $image1x.RelPermalink }}"
            srcset="{{ $image2x.RelPermalink }} 2x, {{ $image3x.RelPermalink }} 3x"
            alt="{{ $avatar_img_alt }}"
            width="{{ $image1x.Width }}"
            height="{{ $image1x.Height }}" />
    {{- else }}
        <!-- Fallback for standard Hugo - no image processing -->
        <img
            class="author-avatar"
            src="{{ $image.RelPermalink }}"
            alt="{{ $avatar_img_alt }}"
            width="70"
            height="70"
            style="border-radius: 50%; object-fit: cover;" />
    {{- end }}
    {{ end }}
    {{ end }}
    <h2 class="author-name">{{ .Site.Params.author.intro }}</h2>
    <p class="author-bio">{{ .Site.Params.author.description }}</p>
</div>